{% extends "base.html" %}
{% block title %}Pokédex 列表{% endblock %}
{% block content %}
<section class="hero">
	<div>
		<p class="eyebrow">宝可梦资料库</p>
		<h1>快速搜索世代全集</h1>
		<p class="lede">来自本地数据库的实时数据，可按编号、中文、日文或英文名称检索。</p>
	</div>
	<form class="search-bar" method="get" action="{{ url_for('index') }}">
		<input type="search" name="q" value="{{ search_term }}" placeholder="输入 Pikachu / 皮卡丘 / 025" aria-label="搜索宝可梦">
		<button type="submit">搜索</button>
	</form>
</section>

<section class="card-grid" aria-live="polite">
	{% if cards %}
		{% for card in cards %}
		<a class="pokemon-card" href="{{ url_for('pokemon_detail', pokemon_id=card.id) }}">
			<div class="card-header">
				<span class="poke-id">#{{ '%03d'|format(card.id) }}</span>
				<div class="type-row">
					{% for type in card.types %}
					<span class="type-pill type-{{ type }}">{{ type }}</span>
					{% endfor %}
				</div>
			</div>
			<div class="card-image">
				<img src="{{ card.sprite }}" alt="{{ card.names.zh or card.names.en }}" loading="lazy">
			</div>
			<div class="card-body">
				<h3>{{ card.names.zh or card.names.en }}</h3>
				<p class="subname">{{ card.names.ja or card.names.en }} · {{ card.names.en }}</p>
				<p class="description">{{ card.description or '暂无图鉴描述。' }}</p>
			</div>
		</a>
		{% endfor %}
	{% else %}
		<div class="empty-state">
			<p>没有找到匹配 “{{ search_term }}” 的宝可梦，换个关键字试试吧。</p>
		</div>
	{% endif %}
</section>
{% endblock %}
